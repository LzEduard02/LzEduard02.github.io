<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Portfólio - Luiz | Eng. Controle e Automação</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <header>
        <img src="imagem/self.jpeg" alt="Sua foto de perfil" id="profile-pic">
        <h1>Luiz Eduardo Lima</h1>
        <p>Engenheiro de Controle e Automação</p>

        <div class="contact-top">
            <a href="mailto:eduardolima0122@outlook.com">eduardolima0122@outlook.com</a>
            <span>|</span>
            <a href="tel:+5517988304395">(17) 98830-4395</a>
            <span>|</span>
            <a href="https://linkedin.com/in/luiz-eduardo-lima" target="_blank"
                rel="noopener noreferrer">LinkedIn</a>
        </div>
    </header>

    <section>
        <h2>Sobre Mim</h2>
        <p>
            Sou Engenheiro de Controle e Automação formado pelo Instituto Federal de São Paulo (IFSP), com sólida
            experiência em programação e desenvolvimento de sistemas embarcados. Minha formação me proporcionou uma base
            robusta em programação (C, Assembly, Ladder) e na criação de projetos IoT, envolvendo integração de
            sensores, coleta de dados e exibição em plataformas online, aplicando conceitos da Indústria 4.0.
        </p>
        <p>
            Tenho experiência em melhoria de processos, Lean, Six Sigma e ferramentas da qualidade, além de uma forte
            base em cálculo, física, elétrica e eletrônica. Participei ativamente de projetos multidisciplinares que
            consolidaram o aprendizado técnico, aprimoraram minha capacidade analítica e reforçaram minhas habilidades
            em resolução de problemas e trabalho em equipe.
        </p>
        <p>
            Considero-me um profissional versátil e criativo, tendo atuado em diferentes setores e participado de
            soluções que exigiram integração de diversas áreas do conhecimento.
            Sou entusiasta da aplicação de tecnologias para melhoria de processos e resolução de problemas.
        </p>
    </section>

    <section id="experience-section">
        <h2>Experiências Profissionais</h2>
        
        <button id="experience-toggle-btn" class="read-more-btn" onclick="toggleExperienceDetails(this)">Ler mais</button>
        
        <div id="experience-details" class="more-content">
            <ul id="experience-list">
            </ul>
            <a href="seu_cv_completo.pdf" target="_blank" class="read-more-btn" style="display: inline-block; margin-top: 1rem;">Ver Currículo Completo (PDF)</a>
            <button class="read-more-btn" onclick="toggleExperienceDetails(this)" style="margin-left: 1rem;">Ler menos</button>
        </div>
        
    </section>
    <section>
        <h2>Projetos</h2>

        <div class="filter-buttons">
            <button class="filter-btn active" data-filter="all">Todos</button>
            <button class="filter-btn" data-filter="automacao">Automação & IoT</button>
            <button class="filter-btn" data-filter="melhoria">Melhoria de Processo</button>
            <button class="filter-btn" data-filter="desenvolvimento">Desenvolvimento Produto</button>
        </div>

        <div class="project-list">
        </div>
    </section>

    <section>
        <h2>Habilidades Técnicas</h2>
        <ul>
            <li>Programação: C/C++, Python, Ladder</li>
            <li>Microcontroladores: ESP32, Arduino</li>
            <li>Automação: CLP, sensores, IOT, relés</li>
            <li>Desenvolvimento e melhoria de produtos</li>
            <li>Metodologias: Lean Manufacturing, Six Sigma (Green Belt)</li>
        </ul>
    </section>

    <section>
        <h2>Contato</h2>
        <p>Estou aberto a novas oportunidades e desafios. Sinta-se à vontade para entrar em contato.</p>
        <p>Email: <a href="mailto:eduardolima0122@outlook.com">eduardolima0122@outlook.com</a></p>
        <p>LinkedIn: <a href="https://linkedin.com/in/luiz-eduardo-lima"
                target="_blank">linkedin.com/in/luiz-eduardo-lima</a></p>
        <p>GitHub: <a href="https://github.com/seuusuario" target="_blank">github.com/seuusuario</a></p>
    </section>

    <footer>
        <p>&copy; 2025 Luiz Eduardo Lima | Eng. de Controle e Automação</p>
    </footer>

    <script>
        // Função 'toggleMore': MANTIDA para cards de PROJETO
        function toggleMore(button) {
            const projectCard = button.closest('.project');
            const content = projectCard.querySelector('.more-content');
            const allButtons = projectCard.querySelectorAll('.read-more-btn');
            const isExpanded = content.classList.contains("show");

            if (isExpanded) {
                content.classList.remove("show");
                projectCard.classList.remove("expanded");
                allButtons.forEach(btn => {
                    btn.textContent = "Ler mais";
                });
            } else {
                content.classList.add("show");
                projectCard.classList.add("expanded");
                allButtons.forEach(btn => {
                    btn.textContent = "Ler menos";
                });
                projectCard.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }
        
        // NOVA FUNÇÃO para o botão "Ler Mais" da seção EXPERIÊNCIAS
        function toggleExperienceDetails(button) {
            const content = document.getElementById('experience-details');
            const toggleBtn = document.getElementById('experience-toggle-btn');
            const isExpanded = content.classList.contains("show");
            
            // O botão principal sempre terá seu texto revertido
            if (isExpanded) {
                content.classList.remove("show");
                toggleBtn.textContent = "Ler mais";
            } else {
                content.classList.add("show");
                toggleBtn.textContent = "Ler menos";
                // Força o scroll para a seção
                document.getElementById('experience-section').scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }
        
        // NOVO: Função para renderizar uma única experiência
        function createExperienceItem(exp) {
            // Converte os detalhes (parágrafos) em HTML
            const detailsHTML = exp.detalhes.map(item => {
                // A tag <p> foi removida da fonte original para ser adicionada aqui
                return `<p>${item.texto}</p>`;
            }).join('');

            return `
                <li>
                    <strong>${exp.cargo}</strong> | [${exp.empresa}] | ${exp.periodo}
                    ${detailsHTML}
                </li>
            `;
        }

        // NOVO: Função para carregar as experiências do JSON
        async function loadExperiences() {
            const experienceListUl = document.getElementById('experience-list');
            
            try {
                const response = await fetch('data/experiencias.json'); 
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const experiencesData = await response.json();

                let html = '';
                experiencesData.forEach(exp => {
                    html += createExperienceItem(exp);
                });
                experienceListUl.innerHTML = html;
                
            } catch (error) {
                console.error("Erro ao carregar as experiências:", error);
                experienceListUl.innerHTML = '<p>Erro ao carregar experiências.</p>';
            }
        }


        // Função para gerar o HTML do Card de Projeto (MANTIDA)
        function createProjectCard(project) {
            // Transforma o array de tags em HTML: <span> tag </span>
            const tagsHTML = project.tags.map(tag => `<span class="tag-item">${tag}</span>`).join('');

            // Transforma o array de links em HTML: <a> link </a> | <a> link </a>
            const linksHTML = project.links ? project.links.map((link, index) => {
                let separator = index < project.links.length - 1 ? ' | ' : '';
                // Adicionando rel="noopener noreferrer" por segurança, se não estiver lá
                return `<a href="${link.url}" target="_blank" rel="noopener noreferrer">${link.texto}</a>${separator}`;
            }).join('') : '';

            // Transforma o conteúdo extra em HTML (parágrafos, imagens, links de PDF)
            const moreContentHTML = project.conteudo_extra.map(item => {
                switch (item.tipo) {
                    case 'paragrafo':
                        return `<p>${item.texto}</p>`;
                    case 'imagem':
                        // Nota: Verifique se o caminho da imagem está correto.
                        return `<img src="${item.url}" alt="${item.alt}">`;
                    case 'link_pdf':
                        return `<p><a href="${item.url}" target="_blank">${item.texto}</a></p>`;
                    default:
                        return '';
                }
            }).join('');

            // Retorna a estrutura completa do card
            return `
                <div class="project" data-category="${project.categoria}" data-id="${project.id}">
                    <h3>${project.titulo}</h3>
                    <p>${project.resumo}</p>
                    <div class="tags">${tagsHTML}</div>
                    <div class="project-links">${linksHTML}</div>
                    <button class="read-more-btn" onclick="toggleMore(this)">Ler mais</button>
                    <div class="more-content">
                        ${moreContentHTML}
                        <button class="read-more-btn" onclick="toggleMore(this)">Ler menos</button>
                    </div>
                </div>
            `;
        }

        // Função que inicia o carregamento dos dados e a renderização (ATUALIZADA)
        async function loadProjects() {
            const projectListDiv = document.querySelector('.project-list');

            try {
                // Caminho para o seu novo arquivo JSON
                const response = await fetch('data/projetos.json'); 
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const projectsData = await response.json();

                // Itera sobre os dados e constrói o HTML
                projectsData.forEach(project => {
                    const projectCardHTML = createProjectCard(project);
                    projectListDiv.innerHTML += projectCardHTML;
                });

                // Inicializa a lógica de filtro APÓS os elementos estarem na página
                initializeFilters();

            } catch (error) {
                console.error("Erro ao carregar ou processar os projetos:", error);
                projectListDiv.innerHTML = '<p>Erro ao carregar os projetos. Verifique se o caminho do arquivo `data/projetos.json` está correto e se você está rodando a página em um servidor local.</p>';
            }
        }

        // A função de inicialização de filtros (MANTIDA)
        function initializeFilters() {
            const filterButtons = document.querySelectorAll('.filter-btn');
            // Busca os projetos que acabaram de ser inseridos
            const projects = document.querySelectorAll('.project');

            filterButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const filter = button.getAttribute('data-filter');

                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');

                    projects.forEach(project => {
                        const category = project.getAttribute('data-category');
                        if (filter === 'all' || filter === category) {
                            project.classList.remove('hidden');
                        } else {
                            project.classList.add('hidden');
                        }
                    });
                });
            });
        }

        // Executa todas as funções principais quando o DOM estiver pronto
        document.addEventListener('DOMContentLoaded', () => {
            loadProjects();
            loadExperiences(); // Chamada para carregar as experiências
        });
    </script>
</body>

</html>